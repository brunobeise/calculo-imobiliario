import { toBRL } from "@/lib/formatter";
import { PropertyData } from "@/propertyData/PropertyDataContext";
import theme from "@/theme";
import { SvgIcon } from "@mui/joy";
import { useMediaQuery } from "@mui/system";
import Xarrow, { anchorType, Xwrapper } from "react-xarrows";

interface UnderstandFinancingProps {
  propertyData: PropertyData;
  color: string;
  secondary: string;
  background: string;
  displayFinancingTime: boolean;
}

export default function UnderstandFinancing(props: UnderstandFinancingProps) {
  const { color, secondary, background, propertyData } = props;

  const matchesXL = useMediaQuery(theme.breakpoints.up("xl"));

  const postionRight: anchorType = matchesXL
    ? "right"
    : { position: "right", offset: { x: 30, y: 30 } };
  const postionLeft: anchorType = matchesXL
    ? "left"
    : { position: "left", offset: { x: 60, y: 30 } };
  const postionTop: anchorType = matchesXL
    ? "top"
    : { position: "bottom", offset: { x: 30, y: 6 } };
  const postionBottom: anchorType = matchesXL
    ? "bottom"
    : { position: "top", offset: { x: 30, y: 95 } };

  return (
    <div className="w-full px-4 mt-10 mb-10">
      <div className="grid grid-cols-4  mt-5 place-items-center">
        <div
          id="propertyValueDiv"
          className="flex flex-col items-center w-[140px]"
        >
          <div
            id="propertyValue"
            className=" px-6  w-[100px] flex justify-center"
          >
            <SvgIcon sx={{ color, fontSize: 60 }}>
              <svg viewBox="0 0 67.33 61.66">
                <metadata id="CorelCorpID_0Corel-Layer" />
                <polygon
                  fill="currentColor"
                  points="33.66,40.2 25.49,38.35 25.49,47.83 33.66,49.68 "
                />
                <path
                  fill="currentColor"
                  d="M58.18 44.23l-7.84 4.14 0 -9.81 7.84 -4.31 0 9.97zm-17.98 14.16l-20.37 -4.68 0 -16.78 -8.72 -2.4 0 17 -6.1 -1.53 0 -21.24 18.41 -15.91 16.78 23.97 0 21.57zm4.25 -58.4l-21.85 6.54 -22.61 20.92 0 1.31 2.83 0.98 0 22.12 39.22 9.8 22.33 -11.88 0 -20.05 2.94 -1.09 0 -1.74 -22.88 -26.91z"
                />
              </svg>
            </SvgIcon>
          </div>
           <span style={{ color }} className="text-md lg:text-xl font-bold">
            {toBRL(propertyData.propertyValue)}
          </span>
          <span style={{ color: secondary }} className="mt-[-5px]">
            valor do imóvel
          </span>
        </div>

        {!props.displayFinancingTime && (
          <div className="flex flex-col items-center w-[140px]">
            <div id="downPayment" className="w-[100px] flex justify-center">
              <SvgIcon sx={{ color, fontSize: 60 }}>
                <svg viewBox="0 0 50.04 50.04" stroke="currentColor">
                  <g id="Camada_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer" />
                    <path
                      fill="currentColor"
                      d="M25.03 0c13.82,0 25.03,11.21 25.03,25.03 0,13.82 -11.21,25.03 -25.03,25.03 -13.82,0 -25.03,-11.21 -25.03,-25.03 0,-13.82 11.21,-25.03 25.03,-25.03zm23.83 25.03c0,6.58 -2.67,12.53 -6.98,16.85 -4.31,4.31 -10.27,6.98 -16.85,6.98 -6.58,0 -12.53,-2.67 -16.85,-6.98 -4.31,-4.31 -6.98,-10.27 -6.98,-16.85 0,-6.58 2.67,-12.54 6.98,-16.85 4.31,-4.31 10.27,-6.98 16.85,-6.98 6.58,0 12.53,2.67 16.85,6.98 4.31,4.31 6.98,10.27 6.98,16.85zm-23.01 6.9l0 -4.77c0.99,0.32 1.76,0.66 2.31,1.04 0.55,0.38 0.83,0.9 0.83,1.57 0,1.38 -1.05,2.1 -3.14,2.16zm-1.24 -9.33c-0.95,-0.28 -1.65,-0.59 -2.12,-0.93 -0.46,-0.35 -0.7,-0.85 -0.7,-1.53 0,-1.44 0.94,-2.22 2.81,-2.34l0 4.8zm8.27 4.31c-0.32,-0.66 -0.77,-1.23 -1.35,-1.7 -0.58,-0.47 -1.29,-0.87 -2.13,-1.18 -0.84,-0.32 -1.77,-0.61 -2.8,-0.89l-0.74 -0.18 0 -5.12c0.57,0.06 1.13,0.17 1.66,0.34 0.53,0.17 1.02,0.36 1.47,0.56 0.44,0.21 0.83,0.41 1.16,0.61 0.33,0.2 0.55,0.37 0.67,0.5l1.81 -3.32c-0.83,-0.57 -1.79,-1.08 -2.89,-1.51 -1.1,-0.43 -2.3,-0.7 -3.6,-0.8l0 -2.99 -1.78 0 0 3.02c-0.95,0.08 -1.84,0.28 -2.67,0.59 -0.83,0.32 -1.54,0.75 -2.15,1.3 -0.6,0.55 -1.08,1.22 -1.42,2 -0.35,0.78 -0.52,1.66 -0.52,2.65 0,0.81 0.12,1.51 0.37,2.09 0.25,0.58 0.62,1.1 1.11,1.54 0.49,0.44 1.11,0.83 1.85,1.16 0.74,0.33 1.61,0.63 2.62,0.9 0.18,0.06 0.36,0.11 0.53,0.16 0.18,0.05 0.36,0.09 0.53,0.13l0 5.1c-0.71,-0.08 -1.4,-0.23 -2.06,-0.44 -0.66,-0.22 -1.26,-0.45 -1.81,-0.7 -0.54,-0.25 -1.01,-0.5 -1.39,-0.76 -0.39,-0.26 -0.66,-0.46 -0.81,-0.62l-1.81 3.52c1.07,0.75 2.26,1.36 3.57,1.82 1.31,0.47 2.66,0.75 4.04,0.85l0 3.29 1.78 0 0 -3.26c0.97,-0.04 1.89,-0.18 2.77,-0.43 0.88,-0.25 1.65,-0.62 2.31,-1.11 0.66,-0.49 1.18,-1.13 1.57,-1.9 0.38,-0.77 0.58,-1.7 0.58,-2.78 0,-0.97 -0.16,-1.78 -0.47,-2.44zm6.41 12.37c3.65,-3.65 5.9,-8.68 5.9,-14.25 0,-5.56 -2.26,-10.6 -5.9,-14.25 -3.65,-3.65 -8.68,-5.9 -14.25,-5.9 -5.56,0 -10.6,2.26 -14.25,5.9 -3.65,3.65 -5.9,8.68 -5.9,14.25 0,5.56 2.26,10.6 5.9,14.25 3.65,3.65 8.68,5.9 14.25,5.9 5.56,0 10.6,-2.26 14.25,-5.9z"
                    />
                    <path
                      fill={background}
                      d="M48.86 25.03c0,6.58 -2.67,12.53 -6.98,16.85 -4.31,4.31 -10.27,6.98 -16.85,6.98 -6.58,0 -12.53,-2.67 -16.85,-6.98 -4.31,-4.31 -6.98,-10.27 -6.98,-16.85 0,-6.58 2.67,-12.54 6.98,-16.85 4.31,-4.31 10.27,-6.98 16.85,-6.98 6.58,0 12.53,2.67 16.85,6.98 4.31,4.31 6.98,10.27 6.98,16.85zm-23.01 6.9l0 -4.77c0.99,0.32 1.76,0.66 2.31,1.04 0.55,0.38 0.83,0.9 0.83,1.57 0,1.38 -1.05,2.1 -3.14,2.16zm-1.24 -9.33c-0.95,-0.28 -1.65,-0.59 -2.12,-0.93 -0.46,-0.35 -0.7,-0.85 -0.7,-1.53 0,-1.44 0.94,-2.22 2.81,-2.34l0 4.8zm8.27 4.31c-0.32,-0.66 -0.77,-1.23 -1.35,-1.7 -0.58,-0.47 -1.29,-0.87 -2.13,-1.18 -0.84,-0.32 -1.77,-0.61 -2.8,-0.89l-0.74 -0.18 0 -5.12c0.57,0.06 1.13,0.17 1.66,0.34 0.53,0.17 1.02,0.36 1.47,0.56 0.44,0.21 0.83,0.41 1.16,0.61 0.33,0.2 0.55,0.37 0.67,0.5l1.81 -3.32c-0.83,-0.57 -1.79,-1.08 -2.89,-1.51 -1.1,-0.43 -2.3,-0.7 -3.6,-0.8l0 -2.99 -1.78 0 0 3.02c-0.95,0.08 -1.84,0.28 -2.67,0.59 -0.83,0.32 -1.54,0.75 -2.15,1.3 -0.6,0.55 -1.08,1.22 -1.42,2 -0.35,0.78 -0.52,1.66 -0.52,2.65 0,0.81 0.12,1.51 0.37,2.09 0.25,0.58 0.62,1.1 1.11,1.54 0.49,0.44 1.11,0.83 1.85,1.16 0.74,0.33 1.61,0.63 2.62,0.9 0.18,0.06 0.36,0.11 0.53,0.16 0.18,0.05 0.36,0.09 0.53,0.13l0 5.1c-0.71,-0.08 -1.4,-0.23 -2.06,-0.44 -0.66,-0.22 -1.26,-0.45 -1.81,-0.7 -0.54,-0.25 -1.01,-0.5 -1.39,-0.76 -0.39,-0.26 -0.66,-0.46 -0.81,-0.62l-1.81 3.52c1.07,0.75 2.26,1.36 3.57,1.82 1.31,0.47 2.66,0.75 4.04,0.85l0 3.29 1.78 0 0 -3.26c0.97,-0.04 1.89,-0.18 2.77,-0.43 0.88,-0.25 1.65,-0.62 2.31,-1.11 0.66,-0.49 1.18,-1.13 1.57,-1.9 0.38,-0.77 0.58,-1.7 0.58,-2.78 0,-0.97 -0.16,-1.78 -0.47,-2.44zm6.41 12.37c3.65,-3.65 5.9,-8.68 5.9,-14.25 0,-5.56 -2.26,-10.6 -5.9,-14.25 -3.65,-3.65 -8.68,-5.9 -14.25,-5.9 -5.56,0 -10.6,2.26 -14.25,5.9 -3.65,3.65 -5.9,8.68 -5.9,14.25 0,5.56 2.26,10.6 5.9,14.25 3.65,3.65 8.68,5.9 14.25,5.9 5.56,0 10.6,-2.26 14.25,-5.9z"
                    />
                  </g>
                </svg>
              </SvgIcon>
            </div>

             <span style={{ color }} className="text-md lg:text-xl font-bold">
              {toBRL(propertyData.downPayment)}
            </span>
            <span style={{ color: secondary }} className="mt-[-5px]">
              entrada
            </span>
          </div>
        )}
        <div className="flex flex-col items-center w-[140px]">
          <div
            id="financingValue"
            className=" px-6 w-[100px] flex justify-center"
          >
            <SvgIcon sx={{ color, fontSize: 60 }}>
              <svg viewBox="0 0 99.19 93.35">
                <g id="Camada_x0020_1">
                  <metadata id="CorelCorpID_0Corel-Layer" />
                  <polygon
                    fill="currentColor"
                    points="49.59,0 -0,19 -0,26.22 49.59,26.22 99.19,26.22 99.19,19 "
                  />
                  <polygon
                    fill="currentColor"
                    points="49.59,27.72 4.94,27.72 4.94,31.71 49.59,31.71 94.25,31.71 94.25,27.72 "
                  />
                  <polygon
                    fill="currentColor"
                    points="49.59,79.52 4.94,79.52 4.94,83.51 49.59,83.51 94.25,83.51 94.25,79.52 "
                  />
                  <polygon
                    fill="currentColor"
                    points="49.59,84.61 -0,84.61 -0,93.35 49.59,93.35 99.19,93.35 99.19,84.61 "
                  />
                  <polygon
                    fill="currentColor"
                    points="21.86,54.35 21.86,36.3 23.07,35.09 25.14,35.09 25.14,32.87 17.96,32.87 10.77,32.87 10.77,35.09 12.84,35.09 14.05,36.3 14.05,54.35 14.05,54.77 14.05,74.93 12.84,76.14 10.77,76.14 10.77,78.36 17.96,78.36 25.14,78.36 25.14,76.14 23.07,76.14 21.86,74.93 21.86,54.77 "
                  />
                  <polygon
                    fill="currentColor"
                    points="42.96,54.35 42.96,36.3 44.16,35.09 46.24,35.09 46.24,32.87 39.05,32.87 31.86,32.87 31.86,35.09 33.93,35.09 35.14,36.3 35.14,54.35 35.14,54.77 35.14,74.93 33.93,76.14 31.86,76.14 31.86,78.36 39.05,78.36 46.24,78.36 46.24,76.14 44.16,76.14 42.96,74.93 42.96,54.77 "
                  />
                  <polygon
                    fill="currentColor"
                    points="64.05,54.35 64.05,36.3 65.25,35.09 67.33,35.09 67.33,32.87 60.14,32.87 52.95,32.87 52.95,35.09 55.03,35.09 56.23,36.3 56.23,54.35 56.23,54.77 56.23,74.93 55.03,76.14 52.95,76.14 52.95,78.36 60.14,78.36 67.33,78.36 67.33,76.14 65.25,76.14 64.05,74.93 64.05,54.77 "
                  />
                  <polygon
                    fill="currentColor"
                    points="85.14,54.35 85.14,36.3 86.35,35.09 88.42,35.09 88.42,32.87 81.23,32.87 74.05,32.87 74.05,35.09 76.12,35.09 77.33,36.3 77.33,54.35 77.33,54.77 77.33,74.93 76.12,76.14 74.05,76.14 74.05,78.36 81.23,78.36 88.42,78.36 88.42,76.14 86.35,76.14 85.14,74.93 85.14,54.77 "
                  />
                  <path
                    fill={background}
                    d="M50.04 17.82l0 -2.58c0.54,0.17 0.95,0.36 1.25,0.56 0.3,0.2 0.45,0.49 0.45,0.85 0,0.75 -0.57,1.14 -1.7,1.17zm-0.67 -5.06c-0.51,-0.15 -0.9,-0.32 -1.15,-0.5 -0.25,-0.19 -0.38,-0.46 -0.38,-0.83 0,-0.78 0.51,-1.21 1.53,-1.27l0 2.6zm4.48 2.34c-0.17,-0.36 -0.41,-0.67 -0.73,-0.93 -0.31,-0.26 -0.7,-0.47 -1.16,-0.64 -0.46,-0.17 -0.96,-0.33 -1.52,-0.48l-0.4 -0.1 0 -2.78c0.31,0.03 0.61,0.09 0.9,0.19 0.29,0.09 0.55,0.19 0.79,0.31 0.24,0.11 0.45,0.22 0.63,0.33 0.18,0.11 0.29,0.2 0.36,0.27l0.98 -1.8c-0.45,-0.31 -0.97,-0.58 -1.56,-0.82 -0.6,-0.24 -1.24,-0.38 -1.95,-0.43l0 -1.62 -0.96 0 0 1.64c-0.51,0.04 -1,0.15 -1.45,0.32 -0.45,0.17 -0.84,0.41 -1.16,0.71 -0.33,0.3 -0.58,0.66 -0.77,1.08 -0.19,0.42 -0.28,0.9 -0.28,1.44 0,0.44 0.07,0.82 0.2,1.13 0.13,0.31 0.33,0.59 0.6,0.84 0.27,0.24 0.6,0.45 1,0.62 0.4,0.18 0.88,0.34 1.42,0.49 0.1,0.03 0.19,0.06 0.29,0.09 0.09,0.03 0.19,0.05 0.29,0.07l0 2.76c-0.38,-0.04 -0.76,-0.12 -1.12,-0.24 -0.36,-0.12 -0.68,-0.24 -0.98,-0.38 -0.3,-0.13 -0.55,-0.27 -0.75,-0.41 -0.21,-0.14 -0.36,-0.25 -0.44,-0.34l-0.98 1.91c0.58,0.41 1.22,0.74 1.93,0.99 0.71,0.25 1.44,0.4 2.19,0.46l0 1.78 0.96 0 0 -1.77c0.53,-0.02 1.02,-0.1 1.5,-0.23 0.48,-0.13 0.89,-0.33 1.25,-0.6 0.36,-0.27 0.64,-0.61 0.85,-1.03 0.21,-0.42 0.31,-0.92 0.31,-1.51 0,-0.53 -0.09,-0.97 -0.26,-1.32z"
                  />
                </g>
              </svg>
            </SvgIcon>
          </div>
           <span style={{ color }} className="text-md lg:text-xl font-bold">
            {toBRL(
              propertyData.propertyValue -
                propertyData?.discharges.filter(d => !d.isConstructionInterest).reduce(
                  (acc, val) => acc + val.originalValue,
                  0
                ) -
                propertyData.downPayment -
                propertyData.subsidy
            )}
          </span>
          <span style={{ color: secondary }} className="mt-[-5px]">
            valor financiado
          </span>
        </div>

        {props.displayFinancingTime && (
          <div className="flex flex-col items-center w-[140px]">
            <div id="financing" className=" px-6 w-[100px] flex justify-center">
              <SvgIcon sx={{ color, fontSize: 60 }}>
                <svg viewBox="0 0 186.02 185.99">
                  <g id="Camada_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer" />
                    <path
                      fill="currentColor"
                      d="M186.02 57.01c-0.26,0.72 -0.53,1.44 -0.77,2.16 -2.11,6.28 -7.95,10.53 -14.59,10.54 -10.29,0.02 -20.57,0.01 -30.86,0 -4.54,-0 -7.93,-3.22 -8.03,-7.59 -0.1,-4.38 3.34,-7.92 7.9,-7.96 6.23,-0.06 12.46,-0.01 18.69,-0.01l1.43 0c-0.4,-0.72 -0.67,-1.21 -0.96,-1.69 -12.56,-19.74 -30.23,-31.91 -53.37,-35.8 -38.51,-6.49 -74.85,17.1 -86.29,53.16 -9.93,31.27 1.7,66.57 28.38,85.72 10.19,7.32 21.43,12.15 33.82,13.9 5.53,0.78 11.22,0.9 16.81,0.72 5.39,-0.17 8.34,3.6 8.65,6.74 0.47,4.68 -2.3,8.32 -7.12,8.76 -8.05,0.74 -16.08,0.24 -24.01,-1.33 -35.93,-7.16 -64.09,-33.17 -72.68,-68.67 -8.35,-34.53 0.62,-64.73 25.83,-89.77 13.54,-13.45 30.11,-21.39 48.89,-24.68 2.91,-0.51 5.85,-0.81 8.77,-1.2l12.71 0c0.46,0.12 0.91,0.28 1.37,0.35 3.23,0.42 6.5,0.61 9.69,1.25 24.76,4.93 44.48,17.66 59.09,38.28 0.25,0.35 0.55,0.66 1.06,1.25 0,-1.04 0,-1.7 0,-2.36 0,-5.14 -0.05,-10.28 0.02,-15.42 0.07,-5.2 4.57,-8.78 9.58,-7.68 3.13,0.69 4.85,2.94 5.97,5.76l0 35.58z"
                    />
                    <path
                      fill="currentColor"
                      d="M186.02 99.49c-0.25,1.84 -0.54,3.68 -0.73,5.53 -0.45,4.53 -3.97,7.51 -8.54,7.2 -4.16,-0.29 -7.28,-3.97 -7.03,-8.35 0.23,-3.79 0.47,-7.59 0.76,-11.37 0.28,-3.64 2.97,-6.64 6.34,-7.18 3.88,-0.62 7.27,1.25 8.75,4.85 0.14,0.33 0.3,0.64 0.45,0.96l0 8.35z"
                    />
                    <path
                      fill="currentColor"
                      d="M85.41 72.94c0,6.29 0.01,12.59 -0.01,18.88 -0.01,2.9 1.16,5.18 3.59,6.7 8.03,5.05 16.09,10.05 24.15,15.05 1.7,1.05 3.57,1.51 5.55,1.04 3.39,-0.8 5.55,-2.88 6.1,-6.37 0.53,-3.32 -0.75,-5.95 -3.57,-7.72 -6.33,-4 -12.69,-7.96 -19.09,-11.86 -1.06,-0.65 -1.45,-1.34 -1.44,-2.58 0.05,-10.46 0.04,-20.93 0.02,-31.4 -0.01,-4.69 -3.27,-8.16 -7.64,-8.18 -4.35,-0.02 -7.67,3.47 -7.68,8.12 -0.02,6.11 -0.01,12.22 -0.01,18.33zm42.65 -31.04c-5.96,3.69 -9.72,8.72 -11.22,15.39 -2.99,13.26 7.18,26.97 20.72,27.7 5.06,0.27 10.16,0.17 15.24,0.13 1.39,-0.01 1.86,0.43 1.99,1.81 2.71,27.39 -12.95,52.46 -36.92,62.85 -35.69,15.47 -76.29,-4.99 -84.99,-42.39 -5.38,-23.1 0.91,-43.2 17.9,-59.7 9.51,-9.23 21.11,-14.51 34.29,-16.2 15.31,-1.96 29.38,1.41 42.28,9.82 0.19,0.13 0.36,0.29 0.71,0.59z"
                    />
                    <path
                      fill="currentColor"
                      d="M175.85 133.92c-0.44,1.3 -0.67,2.72 -1.36,3.87 -2.07,3.47 -4.21,6.92 -6.53,10.23 -2.59,3.7 -7.3,4.42 -10.89,1.88 -3.47,-2.45 -4.26,-7.07 -1.86,-10.77 2,-3.09 3.98,-6.19 5.95,-9.31 1.97,-3.11 5.37,-4.48 8.75,-3.5 3.46,1.01 5.7,3.98 5.93,7.6z"
                    />
                    <path
                      fill="currentColor"
                      d="M146.86 164.6c0.03,2.83 -1.13,5.12 -3.52,6.55 -3.62,2.16 -7.3,4.26 -11.09,6.1 -3.96,1.93 -8.41,0.23 -10.29,-3.62 -1.88,-3.84 -0.36,-8.22 3.54,-10.33 3.23,-1.75 6.45,-3.55 9.66,-5.34 5.32,-2.94 11.66,0.66 11.69,6.65z"
                    />
                  </g>
                </svg>
              </SvgIcon>
            </div>
             <span style={{ color }} className="text-md lg:text-xl font-bold">
              {propertyData.financingMonths} meses
            </span>
            <span style={{ color: secondary }} className="mt-[-5px]">
              financiamento
            </span>
          </div>
        )}

        <div className="flex flex-col items-center w-[140px]">
          <div
            id="installments"
            className=" px-6 w-[100px] flex justify-center"
          >
            <SvgIcon sx={{ color, fontSize: 60 }}>
              <svg viewBox="0 0 1708.78 1479.83" stroke="currentColor">
                <g id="Camada_x0020_1">
                  <metadata id="CorelCorpID_0Corel-Layer" />
                  <path
                    fill="currentColor"
                    d="M1650.89 1109.03l-595.12 0c262.12,-172.63 263.07,-564.12 0.21,-737.91l594.92 0 0 737.91zm-1079.78 -162.34c-39.38,-63.39 -58.44,-132.73 -58.05,-233.34 3.58,-106.32 53.66,-215.26 165.28,-290.02 132.9,-89.03 304,-65.96 415.74,53.1 145.37,154.86 133.8,410.2 -24.95,551.3 -153.92,136.79 -386.15,99.12 -498.03,-81.04zm1065.65 -634.35c-378.8,0.73 -757.6,0.47 -1136.4,0.47 -5,0 -10.04,-0.22 -15.04,0.08 -17.6,0.94 -28.92,11.79 -29.17,27.85 -0.3,16.7 11.36,28.63 29.81,28.75 49.52,0.39 99.03,0.13 148.54,0.17l20.04 0c-130.08,92.44 -198.48,214.07 -198.39,370.69 0.12,156.39 68.7,277.89 197.11,369.13l-595.17 0 0 -739.82 67.72 0c71.2,0 142.38,0.13 213.59,-0.12 18.2,-0.08 30.76,-12.18 30.86,-28.2 0.04,-15.92 -12.61,-27.72 -30.64,-28.49 -2.22,-0.12 -4.44,-0.04 -6.66,-0.04 -89.54,0 -179.12,-0.05 -268.66,0 -41.61,0.04 -64.25,22.38 -64.25,63.65 -0.05,242.52 -0.05,485.05 0.04,727.57 0,6.62 0.27,13.45 1.84,19.77 7.22,28.75 29.27,43.4 64.56,43.4 523.4,0 1046.8,-0.21 1570.24,0.44 34.81,0.04 58.83,-11.46 72.06,-43.84l0 -767.62c-13.15,-32.43 -37.25,-43.87 -72.02,-43.84z"
                  />
                  <path
                    fill="currentColor"
                    d="M870.6 259.51c160.45,-53.66 320.91,-107.4 481.37,-161.14 40.93,-13.71 81.85,-27.38 124.4,-41.61 2.47,7.27 4.11,11.92 5.68,16.61 17.69,52.59 35.37,105.18 53.06,157.73 1.57,4.75 2.89,9.61 4.95,14.14 6.75,14.82 21.23,21.45 35.58,16.66 14.65,-4.96 22.64,-20.3 17.35,-36.4 -19.79,-60.06 -39.99,-120.01 -60.23,-179.9 -13.64,-40.41 -41.18,-54.08 -81.86,-40.53 -97.35,32.5 -194.67,65.14 -291.99,97.78 -102.57,34.34 -205.14,68.69 -307.67,103.12 -23.29,7.81 -32.18,27.16 -20.77,44.55 8.33,12.64 20.47,15.55 40.12,8.97z"
                  />
                  <path
                    fill="currentColor"
                    d="M839.89 1219.9c-161.02,54.12 -322.11,108.03 -483.17,161.94 -40.92,13.72 -81.85,27.39 -123.84,41.4 -2.47,-6.71 -4.44,-11.75 -6.15,-16.88 -18.62,-55.2 -37.33,-110.43 -55.74,-165.71 -4.19,-12.56 -10.9,-21.92 -24.91,-23.63 -22.26,-2.69 -37.13,16.44 -29.64,39.31 18.79,57.5 38.18,114.82 57.36,172.25 15.98,47.93 41.61,60.71 89.38,44.68 102.6,-34.39 205.26,-68.73 307.87,-103.12 94.76,-31.79 189.55,-63.39 284.04,-95.91 9.58,-3.29 20.8,-10.81 24.61,-19.35 3.34,-7.57 0,-21.02 -5.07,-28.71 -8.08,-12.13 -21.53,-10.72 -34.73,-6.27z"
                  />
                  <path
                    fill="currentColor"
                    d="M250.1 483.39c22.17,-0.12 33.83,-9.69 34.19,-27.63 0.34,-18.42 -12.05,-29.05 -34.65,-29.18 -33.33,-0.17 -66.69,-0.17 -100.01,0 -25.33,0.13 -35.67,10.26 -35.84,35.25 -0.17,33.36 -0.12,66.69 0,100.05 0.08,22.73 10.43,35.24 28.63,35.24 18.32,-0.04 28.11,-12.17 28.19,-35.32 0.13,-25.42 0.05,-50.84 0.05,-78.35 28.41,0 53.91,0.12 79.45,-0.05z"
                  />
                  <path
                    fill="currentColor"
                    d="M146.73 1053.36c34.98,0.34 70.02,0.3 105.05,0 20.16,-0.17 32.21,-10.93 32.51,-27.99 0.34,-17.85 -11.71,-28.58 -32.99,-28.75 -26.06,-0.22 -52.12,-0.04 -80.7,-0.04 0,-28.46 0.17,-54.47 -0.04,-80.53 -0.13,-21.36 -10.77,-33.41 -28.63,-33.19 -17.04,0.21 -27.94,12.3 -28.11,32.38 -0.3,34.98 -0.34,70.02 0,105 0.21,22.09 10.93,32.89 32.89,33.11z"
                  />
                  <path
                    fill="currentColor"
                    d="M1457.65 483.38c26.01,0.22 52.07,0.05 80.53,0.05 0,28.53 -0.13,54.59 0.04,80.65 0.17,21.28 10.9,33.33 28.75,33.02 17.05,-0.29 27.85,-12.39 28.02,-32.5 0.3,-35.03 0.35,-70.07 -0.04,-105.05 -0.22,-22.05 -10.93,-32.73 -33.07,-32.9 -34.98,-0.34 -70.02,-0.29 -105,-0.04 -20.11,0.21 -32.16,11.07 -32.38,28.11 -0.25,17.9 11.83,28.49 33.16,28.66z"
                  />
                  <path
                    fill="currentColor"
                    d="M1566.85 882.88c-17.86,-0.27 -28.49,11.83 -28.63,33.14 -0.21,26.06 -0.04,52.08 -0.04,80.53 -28.58,0 -54.6,-0.13 -80.66,0.08 -21.26,0.13 -33.36,10.85 -33.01,28.71 0.25,17.09 12.3,27.85 32.47,28.02 34.98,0.3 70.02,0.34 105.04,0 21.97,-0.22 32.73,-11.02 32.94,-33.07 0.35,-35.02 0.3,-70.02 0,-105.04 -0.17,-20.08 -11.06,-32.18 -28.11,-32.38z"
                  />
                  <path
                    fill="currentColor"
                    d="M769.33 639.42c-0.64,29.05 22.17,57.07 56.48,66.6l0 -66.18 0 -64.42c-31.91,6.32 -55.84,34.52 -56.48,64z"
                  />
                  <path
                    fill="currentColor"
                    d="M872.26 887.01l0 -104.58c21.65,6.98 38.53,14.53 50.67,22.73 12.09,8.25 18.15,19.74 18.15,34.44 0,30.32 -22.94,46.09 -68.82,47.41zm-27.29 -204.58c-20.77,-6.02 -36.23,-12.86 -46.4,-20.42 -10.21,-7.6 -15.28,-18.76 -15.28,-33.46 0,-31.61 20.59,-48.69 61.69,-51.3l0 105.17zm181.21 94.49c-6.96,-14.48 -16.78,-26.96 -29.56,-37.33 -12.78,-10.38 -28.36,-19.01 -46.78,-25.97 -18.37,-6.91 -38.82,-13.41 -61.35,-19.47l-16.23 -3.89 0 -112.36c12.56,1.28 24.69,3.8 36.35,7.48 11.71,3.67 22.43,7.81 32.16,12.34 9.75,4.53 18.16,8.97 25.33,13.33 7.14,4.31 12.01,7.99 14.62,11.02l39.6 -72.75c-18.2,-12.51 -39.3,-23.58 -63.31,-33.11 -24.05,-9.52 -50.33,-15.33 -78.91,-17.51l0 -65.57 -38.96 0 0 66.21c-20.8,1.76 -40.29,6.07 -58.44,12.98 -18.2,6.93 -33.88,16.46 -47.08,28.58 -13.24,12.13 -23.63,26.75 -31.18,43.84 -7.56,17.09 -11.36,36.49 -11.36,58.1 0,17.76 2.69,33.02 8.11,45.79 5.38,12.78 13.54,24.01 24.35,33.75 10.8,9.75 24.35,18.2 40.58,25.33 16.24,7.14 35.37,13.76 57.46,19.82 3.92,1.28 7.82,2.48 11.71,3.55 3.89,1.11 7.77,2.09 11.66,2.95l0 111.66c-15.55,-1.71 -30.59,-4.95 -45.12,-9.74 -14.52,-4.75 -27.72,-9.83 -39.6,-15.26 -11.92,-5.38 -22.09,-10.93 -30.54,-16.53 -8.42,-5.64 -14.4,-10.16 -17.86,-13.67l-39.6 77.28c23.37,16.44 49.47,29.78 78.26,39.94 28.78,10.17 58.31,16.32 88.64,18.5l0 72.11 38.96 0 0 -71.43c21.19,-0.9 41.44,-4.01 60.71,-9.43 19.27,-5.43 36.15,-13.5 50.67,-24.35 14.48,-10.81 25.97,-24.69 34.39,-41.57 8.45,-16.87 12.69,-37.2 12.69,-61.04 0,-21.19 -3.46,-39.04 -10.39,-53.57z"
                  />
                </g>
              </svg>
            </SvgIcon>
          </div>
          {propertyData.amortizationType === "SAC" ? (
            <span style={{ color: secondary }}>parcela inicial</span>
          ) : (
            <span style={{ color: secondary }}>parcelas de</span>
          )}
           <span style={{ color }} className="text-md lg:text-xl font-bold mt-[-5px]">
            {toBRL(propertyData.installmentValue)}
          </span>
        </div>

        {props.displayFinancingTime && (
          <div className="flex flex-col items-center w-[140px] mt-12">
            <div
              id="downPayment"
              className=" pt-3 w-[100px] flex justify-center"
            >
              <SvgIcon sx={{ color, fontSize: 60 }}>
                <svg viewBox="0 0 50.04 50.04" stroke="currentColor">
                  <g id="Camada_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer" />
                    <path
                      fill="currentColor"
                      d="M25.03 0c13.82,0 25.03,11.21 25.03,25.03 0,13.82 -11.21,25.03 -25.03,25.03 -13.82,0 -25.03,-11.21 -25.03,-25.03 0,-13.82 11.21,-25.03 25.03,-25.03zm23.83 25.03c0,6.58 -2.67,12.53 -6.98,16.85 -4.31,4.31 -10.27,6.98 -16.85,6.98 -6.58,0 -12.53,-2.67 -16.85,-6.98 -4.31,-4.31 -6.98,-10.27 -6.98,-16.85 0,-6.58 2.67,-12.54 6.98,-16.85 4.31,-4.31 10.27,-6.98 16.85,-6.98 6.58,0 12.53,2.67 16.85,6.98 4.31,4.31 6.98,10.27 6.98,16.85zm-23.01 6.9l0 -4.77c0.99,0.32 1.76,0.66 2.31,1.04 0.55,0.38 0.83,0.9 0.83,1.57 0,1.38 -1.05,2.1 -3.14,2.16zm-1.24 -9.33c-0.95,-0.28 -1.65,-0.59 -2.12,-0.93 -0.46,-0.35 -0.7,-0.85 -0.7,-1.53 0,-1.44 0.94,-2.22 2.81,-2.34l0 4.8zm8.27 4.31c-0.32,-0.66 -0.77,-1.23 -1.35,-1.7 -0.58,-0.47 -1.29,-0.87 -2.13,-1.18 -0.84,-0.32 -1.77,-0.61 -2.8,-0.89l-0.74 -0.18 0 -5.12c0.57,0.06 1.13,0.17 1.66,0.34 0.53,0.17 1.02,0.36 1.47,0.56 0.44,0.21 0.83,0.41 1.16,0.61 0.33,0.2 0.55,0.37 0.67,0.5l1.81 -3.32c-0.83,-0.57 -1.79,-1.08 -2.89,-1.51 -1.1,-0.43 -2.3,-0.7 -3.6,-0.8l0 -2.99 -1.78 0 0 3.02c-0.95,0.08 -1.84,0.28 -2.67,0.59 -0.83,0.32 -1.54,0.75 -2.15,1.3 -0.6,0.55 -1.08,1.22 -1.42,2 -0.35,0.78 -0.52,1.66 -0.52,2.65 0,0.81 0.12,1.51 0.37,2.09 0.25,0.58 0.62,1.1 1.11,1.54 0.49,0.44 1.11,0.83 1.85,1.16 0.74,0.33 1.61,0.63 2.62,0.9 0.18,0.06 0.36,0.11 0.53,0.16 0.18,0.05 0.36,0.09 0.53,0.13l0 5.1c-0.71,-0.08 -1.4,-0.23 -2.06,-0.44 -0.66,-0.22 -1.26,-0.45 -1.81,-0.7 -0.54,-0.25 -1.01,-0.5 -1.39,-0.76 -0.39,-0.26 -0.66,-0.46 -0.81,-0.62l-1.81 3.52c1.07,0.75 2.26,1.36 3.57,1.82 1.31,0.47 2.66,0.75 4.04,0.85l0 3.29 1.78 0 0 -3.26c0.97,-0.04 1.89,-0.18 2.77,-0.43 0.88,-0.25 1.65,-0.62 2.31,-1.11 0.66,-0.49 1.18,-1.13 1.57,-1.9 0.38,-0.77 0.58,-1.7 0.58,-2.78 0,-0.97 -0.16,-1.78 -0.47,-2.44zm6.41 12.37c3.65,-3.65 5.9,-8.68 5.9,-14.25 0,-5.56 -2.26,-10.6 -5.9,-14.25 -3.65,-3.65 -8.68,-5.9 -14.25,-5.9 -5.56,0 -10.6,2.26 -14.25,5.9 -3.65,3.65 -5.9,8.68 -5.9,14.25 0,5.56 2.26,10.6 5.9,14.25 3.65,3.65 8.68,5.9 14.25,5.9 5.56,0 10.6,-2.26 14.25,-5.9z"
                    />
                    <path
                      fill={background}
                      d="M48.86 25.03c0,6.58 -2.67,12.53 -6.98,16.85 -4.31,4.31 -10.27,6.98 -16.85,6.98 -6.58,0 -12.53,-2.67 -16.85,-6.98 -4.31,-4.31 -6.98,-10.27 -6.98,-16.85 0,-6.58 2.67,-12.54 6.98,-16.85 4.31,-4.31 10.27,-6.98 16.85,-6.98 6.58,0 12.53,2.67 16.85,6.98 4.31,4.31 6.98,10.27 6.98,16.85zm-23.01 6.9l0 -4.77c0.99,0.32 1.76,0.66 2.31,1.04 0.55,0.38 0.83,0.9 0.83,1.57 0,1.38 -1.05,2.1 -3.14,2.16zm-1.24 -9.33c-0.95,-0.28 -1.65,-0.59 -2.12,-0.93 -0.46,-0.35 -0.7,-0.85 -0.7,-1.53 0,-1.44 0.94,-2.22 2.81,-2.34l0 4.8zm8.27 4.31c-0.32,-0.66 -0.77,-1.23 -1.35,-1.7 -0.58,-0.47 -1.29,-0.87 -2.13,-1.18 -0.84,-0.32 -1.77,-0.61 -2.8,-0.89l-0.74 -0.18 0 -5.12c0.57,0.06 1.13,0.17 1.66,0.34 0.53,0.17 1.02,0.36 1.47,0.56 0.44,0.21 0.83,0.41 1.16,0.61 0.33,0.2 0.55,0.37 0.67,0.5l1.81 -3.32c-0.83,-0.57 -1.79,-1.08 -2.89,-1.51 -1.1,-0.43 -2.3,-0.7 -3.6,-0.8l0 -2.99 -1.78 0 0 3.02c-0.95,0.08 -1.84,0.28 -2.67,0.59 -0.83,0.32 -1.54,0.75 -2.15,1.3 -0.6,0.55 -1.08,1.22 -1.42,2 -0.35,0.78 -0.52,1.66 -0.52,2.65 0,0.81 0.12,1.51 0.37,2.09 0.25,0.58 0.62,1.1 1.11,1.54 0.49,0.44 1.11,0.83 1.85,1.16 0.74,0.33 1.61,0.63 2.62,0.9 0.18,0.06 0.36,0.11 0.53,0.16 0.18,0.05 0.36,0.09 0.53,0.13l0 5.1c-0.71,-0.08 -1.4,-0.23 -2.06,-0.44 -0.66,-0.22 -1.26,-0.45 -1.81,-0.7 -0.54,-0.25 -1.01,-0.5 -1.39,-0.76 -0.39,-0.26 -0.66,-0.46 -0.81,-0.62l-1.81 3.52c1.07,0.75 2.26,1.36 3.57,1.82 1.31,0.47 2.66,0.75 4.04,0.85l0 3.29 1.78 0 0 -3.26c0.97,-0.04 1.89,-0.18 2.77,-0.43 0.88,-0.25 1.65,-0.62 2.31,-1.11 0.66,-0.49 1.18,-1.13 1.57,-1.9 0.38,-0.77 0.58,-1.7 0.58,-2.78 0,-0.97 -0.16,-1.78 -0.47,-2.44zm6.41 12.37c3.65,-3.65 5.9,-8.68 5.9,-14.25 0,-5.56 -2.26,-10.6 -5.9,-14.25 -3.65,-3.65 -8.68,-5.9 -14.25,-5.9 -5.56,0 -10.6,2.26 -14.25,5.9 -3.65,3.65 -5.9,8.68 -5.9,14.25 0,5.56 2.26,10.6 5.9,14.25 3.65,3.65 8.68,5.9 14.25,5.9 5.56,0 10.6,-2.26 14.25,-5.9z"
                    />
                  </g>
                </svg>
              </SvgIcon>
            </div>

             <span style={{ color }} className="text-md lg:text-xl font-bold">
              {toBRL(propertyData.downPayment)}
            </span>
            <span style={{ color: secondary }} className="mt-[-5px]">
              entrada
            </span>
          </div>
        )}

        {propertyData.amortizationType === "SAC" ? (
          <p
            style={{ color: secondary }}
            className={`${
              props.displayFinancingTime
                ? "col-span-3 px-4 ms-[-15px]"
                : "col-span-4 px-10"
            } mt-6 text-md `}
          >
            O valor da parcela é estipulado pela <strong>tabela SAC.</strong>{" "}
            Como as parcelas da tabela SAC diminuem com o tempo, optar por esse
            modelo traz a vantagem de reduzir o saldo devedor mais rapidamente.
            Isso resulta em um pagamento total de juros menor ao longo do
            financiamento, tornando essa opção interessante para quem busca
            economizar no custo total da dívida.
          </p>
        ) : (
          <p
            style={{ color: secondary }}
            className={`${
              props.displayFinancingTime
                ? "col-span-3 px-4 ms-[-15px]"
                : "col-span-4 px-10"
            } mt-6 text-md `}
          >
            O valor da parcela é estipulado pela <strong>tabela PRICE</strong>.
            Como as primeiras parcelas da tabela SAC são mais altas, optar pela
            tabela PRICE acaba sendo mais vantajoso, pois a diferença entre os
            valores pode ser usada para quitar o saldo devedor ou ser investida
            no mercado financeiro. Esse método permite que o cliente liquide a
            dívida antes do prazo previsto.
          </p>
        )}
      </div>
      <Xwrapper>
        {props.displayFinancingTime ? (
          <>
            {" "}
            <Xarrow
              color={color}
              dashness={{
                nonStrokeLen: 13,
                strokeLen: 13,
              }}
              showHead={false}
              strokeWidth={9}
              path="grid"
              end={"installments"}
              start={"financing"}
              startAnchor={postionRight}
              endAnchor={postionLeft}
            />
            <Xarrow
              color={color}
              dashness={{
                nonStrokeLen: 13,
                strokeLen: 13,
              }}
              showHead={false}
              strokeWidth={9}
              path="grid"
              start={"financingValue"}
              end={"financing"}
              startAnchor={postionRight}
              endAnchor={postionLeft}
            />
            <Xarrow
              color={color}
              dashness={{
                nonStrokeLen: 13,
                strokeLen: 13,
              }}
              showHead={false}
              strokeWidth={9}
              path="grid"
              start={"downPayment"}
              end={"propertyValueDiv"}
              startAnchor={postionTop}
              endAnchor={postionBottom}
            />
            <Xarrow
              color={color}
              dashness={{
                nonStrokeLen: 13,
                strokeLen: 13,
              }}
              showHead={false}
              strokeWidth={9}
              path="grid"
              start={"propertyValue"}
              end={"financingValue"}
              startAnchor={postionRight}
              endAnchor={postionLeft}
            />
          </>
        ) : (
          <>
            <Xarrow
              color={color}
              dashness={{
                nonStrokeLen: 13,
                strokeLen: 13,
              }}
              showHead={false}
              strokeWidth={9}
              path="grid"
              end={"downPayment"}
              start={"propertyValue"}
              startAnchor={postionRight}
              endAnchor={postionLeft}
            />
            <Xarrow
              color={color}
              dashness={{
                nonStrokeLen: 13,
                strokeLen: 13,
              }}
              showHead={false}
              strokeWidth={9}
              path="grid"
              end={"financingValue"}
              start={"installments"}
              startAnchor={postionLeft}
              endAnchor={postionRight}
            />
            <Xarrow
              color={color}
              dashness={{
                nonStrokeLen: 13,
                strokeLen: 13,
              }}
              showHead={false}
              strokeWidth={9}
              path="grid"
              start={"financingValue"}
              end={"downPayment"}
              startAnchor={postionLeft}
              endAnchor={postionRight}
            />
          </>
        )}
      </Xwrapper>
    </div>
  );
}
